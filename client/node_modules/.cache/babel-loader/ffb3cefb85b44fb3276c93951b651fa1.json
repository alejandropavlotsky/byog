{"ast":null,"code":"import _objectSpread from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import GameService from'../../../service/game.service';import FileService from'../../../service/file.service';import Container from'react-bootstrap/Container';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import'./GameForm.css';var utils=require('../../../utils/gameDificultyOptions');var GameForm=/*#__PURE__*/function(_Component){_inherits(GameForm,_Component);var _super=_createSuper(GameForm);function GameForm(props){var _this;_classCallCheck(this,GameForm);_this=_super.call(this,props);_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(e){e.preventDefault();_this.gameService.saveGame(_this.state).then(function(){return _this.props.finishGamePost();}).catch(function(err){return console.log(err);});};_this.handleFileUpload=function(e){var uploadData=new FormData();uploadData.append(\"gameImg\",e.target.files[0]);_this.filesService.handleUpload(uploadData).then(function(response){console.log(\"subida de archivo finalizada\",response.data.secure_url);_this.setState(_objectSpread(_objectSpread({},_this.state),{},{gameImg:response.data.secure_url}));}).catch(function(err){return console.log(err);});};_this.state={title:'',description:'',author:'',gameImg:'',theme:'',ageRange:'',numOfPlayers:'',gameTime:'',difficulty:'',price:'€',language:'Español',owner:props.loggedInUser._id};_this.gameService=new GameService();_this.filesService=new FileService();return _this;}_createClass(GameForm,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Container,{className:\"game-form\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Nuevo juego\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"title\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Nombre del juego\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"title\",type:\"text\",size:\"sm\",value:this.state.title,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"description\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Descripcion\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"description\",type:\"text\",size:\"sm\",value:this.state.description,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"author\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Autor del juego\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"author\",type:\"text\",size:\"sm\",value:this.state.author,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"img\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Imagen del juego\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"gameImg\",type:\"file\",size:\"sm\",onChange:this.handleFileUpload})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"theme\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Tematica del juego\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"theme\",type:\"text\",size:\"sm\",value:this.state.theme,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"ageRange\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Rango de edades\"),/*#__PURE__*/React.createElement(\"div\",{key:\"inline-radio\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+4\",inline:true,label:\"+4\",value:\"+4\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-1\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+6\",inline:true,label:\"+6\",value:\"+6\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-2\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+8\",inline:true,label:\"+8\",value:\"+8\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-3\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+10\",inline:true,label:\"+10\",value:\"+10\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-4\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+12\",inline:true,label:\"+12\",value:\"+12\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-5\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+14\",inline:true,label:\"+14\",value:\"+14\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-6\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+16\",inline:true,label:\"+16\",value:\"+16\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-7\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+18\",inline:true,label:\"+18\",value:\"+18\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-8\"}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"numOfPlayers\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Numero de Jugadores\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"numOfPlayers\",type:\"text\",size:\"sm\",value:this.state.numOfPlayers,placeholder:\"2-4 jugadores\",onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"gameTime\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Duracion media de la partida\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"gameTime\",type:\"text\",size:\"sm\",value:this.state.gameTime,placeholder:\"20 minutos\",onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"difficulty\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Dificultad del juego\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",name:\"difficulty\",size:\"sm\",value:this.state.difficulty,custom:true,onChange:this.handleInputChange},utils.map(function(elm,idx){return/*#__PURE__*/React.createElement(\"option\",{key:idx},elm.label);}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"price\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Precio\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"price\",type:\"text\",size:\"sm\",value:this.state.price,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"language\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Idioma\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"language\",type:\"text\",size:\"sm\",value:this.state.language,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Button,{variant:\"success\",onClick:function onClick(){return _this2.props.closeModal();},style:{marginRight:'10px'},className:\"btn-one\"},\"Cerrar\"),/*#__PURE__*/React.createElement(Button,{variant:\"success\",className:\"btn-one\",type:\"submit\"},\"Crear juego\")));}}]);return GameForm;}(Component);export default GameForm;","map":{"version":3,"sources":["/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/src/components/pages/game-form/GameForm.js"],"names":["React","Component","GameService","FileService","Container","Form","Button","utils","require","GameForm","props","handleInputChange","e","target","name","value","setState","handleSubmit","preventDefault","gameService","saveGame","state","then","finishGamePost","catch","err","console","log","handleFileUpload","uploadData","FormData","append","files","filesService","handleUpload","response","data","secure_url","gameImg","title","description","author","theme","ageRange","numOfPlayers","gameTime","difficulty","price","language","owner","loggedInUser","_id","map","elm","idx","label","closeModal","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport GameService from '../../../service/game.service'\nimport FileService from '../../../service/file.service'\nimport Container from 'react-bootstrap/Container'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport './GameForm.css'\nconst utils = require('../../../utils/gameDificultyOptions')\n\n\nclass GameForm extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            title: '',\n            description: '',\n            author: '',\n            gameImg: '',\n            theme: '',\n            ageRange: '',\n            numOfPlayers: '',\n            gameTime: '',\n            difficulty: '',\n            price: '€',\n            language: 'Español',\n            owner: props.loggedInUser._id\n        }\n        this.gameService = new GameService()\n        this.filesService = new FileService()\n    }\n\n\n    handleInputChange = e => {\n        const { name, value } = e.target\n\n        this.setState({\n            [name]: value\n        })\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n        this.gameService.saveGame(this.state)\n            .then(() => this.props.finishGamePost())\n            .catch(err => console.log(err))\n    }\n\n    handleFileUpload = e => {\n        const uploadData = new FormData()\n        uploadData.append(\"gameImg\", e.target.files[0])\n        this.filesService.handleUpload(uploadData)\n            .then(response => {\n                console.log(\"subida de archivo finalizada\", response.data.secure_url)\n                this.setState({\n                    ...this.state, gameImg: response.data.secure_url \n                })\n            })\n        .catch(err => console.log(err))\n    }\n\n    render() {\n        return (\n            <Container className=\"game-form\">\n\n                <h1>Nuevo juego</h1>\n                <hr></hr>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Group controlId=\"title\">\n                        <Form.Label>Nombre del juego</Form.Label>\n                        <Form.Control name=\"title\" type=\"text\" size=\"sm\" value={this.state.title} onChange={this.handleInputChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"description\">\n                        <Form.Label>Descripcion</Form.Label>\n                        <Form.Control name=\"description\" type=\"text\" size=\"sm\" value={this.state.description} onChange={this.handleInputChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"author\">\n                        <Form.Label>Autor del juego</Form.Label>\n                        <Form.Control name=\"author\" type=\"text\" size=\"sm\" value={this.state.author} onChange={this.handleInputChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"img\">\n                        <Form.Label>Imagen del juego</Form.Label>\n                        <Form.Control name=\"gameImg\" type=\"file\" size=\"sm\" onChange={this.handleFileUpload} />\n                    </Form.Group>\n                    <Form.Group controlId=\"theme\">\n                        <Form.Label>Tematica del juego</Form.Label>\n                        <Form.Control name=\"theme\" type=\"text\" size=\"sm\" value={this.state.theme} onChange={this.handleInputChange} />\n                    </Form.Group>\n                     <Form.Group controlId=\"ageRange\">\n                        <Form.Label>Rango de edades</Form.Label>\n                                <div key={`inline-radio`} className=\"mb-3\">\n                                    <Form.Check name=\"ageRange\" key=\"+4\" inline label=\"+4\"  value=\"+4\"  type=\"radio\" onChange={this.handleInputChange} id={`inline-radio-1`} />\n                                    <Form.Check name=\"ageRange\" key=\"+6\" inline label=\"+6\"  value=\"+6\"  type=\"radio\" onChange={this.handleInputChange} id={`inline-radio-2`} />\n                                    <Form.Check name=\"ageRange\" key=\"+8\" inline label=\"+8\"  value=\"+8\"  type=\"radio\" onChange={this.handleInputChange} id={`inline-radio-3`} />\n                                    <Form.Check name=\"ageRange\" key=\"+10\" inline label=\"+10\" value=\"+10\"  type=\"radio\" onChange={this.handleInputChange} id={`inline-radio-4`} />\n                                    <Form.Check name=\"ageRange\" key=\"+12\" inline label=\"+12\" value=\"+12\"  type=\"radio\" onChange={this.handleInputChange} id={`inline-radio-5`} />\n                                    <Form.Check name=\"ageRange\" key=\"+14\" inline label=\"+14\" value=\"+14\"  type=\"radio\" onChange={this.handleInputChange} id={`inline-radio-6`} />\n                                    <Form.Check name=\"ageRange\" key=\"+16\" inline label=\"+16\" value=\"+16\"  type=\"radio\" onChange={this.handleInputChange} id={`inline-radio-7`} />\n                                    <Form.Check name=\"ageRange\" key=\"+18\" inline label=\"+18\" value=\"+18\"  type=\"radio\" onChange={this.handleInputChange} id={`inline-radio-8`} />\n                                </div>\n                    \n                    </Form.Group>\n                    <Form.Group controlId=\"numOfPlayers\">\n                        <Form.Label>Numero de Jugadores</Form.Label>\n                        <Form.Control name=\"numOfPlayers\" type=\"text\" size=\"sm\" value={this.state.numOfPlayers} placeholder=\"2-4 jugadores\" onChange={this.handleInputChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"gameTime\">\n                        <Form.Label>Duracion media de la partida</Form.Label>\n                        <Form.Control name=\"gameTime\" type=\"text\" size=\"sm\" value={this.state.gameTime} placeholder=\"20 minutos\"  onChange={this.handleInputChange} />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"difficulty\">\n                        <Form.Label>Dificultad del juego</Form.Label>\n                        <Form.Control as=\"select\" name=\"difficulty\" size=\"sm\" value={this.state.difficulty} custom onChange={this.handleInputChange}>\n                            {utils.map((elm, idx) => <option key={idx}>{elm.label}</option>)}\n                        </Form.Control>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"price\">\n                        <Form.Label>Precio</Form.Label>\n                        <Form.Control name=\"price\" type=\"text\" size=\"sm\" value={this.state.price} onChange={this.handleInputChange} />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"language\">\n                        <Form.Label>Idioma</Form.Label>\n                        <Form.Control name=\"language\" type=\"text\" size=\"sm\" value={this.state.language} onChange={this.handleInputChange} />\n                    </Form.Group>\n\n                    <Button variant=\"success\" onClick={() => this.props.closeModal()} style={{ marginRight: '10px' }} className=\"btn-one\">Cerrar</Button>\n                    <Button variant=\"success\" className=\"btn-one\" type=\"submit\">Crear juego</Button>\n                </Form>\n            </Container>\n        )\n    }\n}\n\nexport default GameForm"]},"metadata":{},"sourceType":"module"}