{"ast":null,"code":"import _objectSpread from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./GameForm.css';import GameService from'../../../service/game.service';import FileService from'../../../service/file.service';import Container from'react-bootstrap/Container';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';var utils=require('../../../utils/gameDificultyOptions');var GameForm=/*#__PURE__*/function(_Component){_inherits(GameForm,_Component);var _super=_createSuper(GameForm);function GameForm(props){var _this;_classCallCheck(this,GameForm);_this=_super.call(this,props);_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(e){e.preventDefault();if(_this.props.title){_this.gameService.editGame(_objectSpread(_objectSpread({},_this.state),{},{_id:_this.props._id})).then(function(){return _this.props.finishGamePost();}).catch(function(err){return console.log(err);});}else{_this.gameService.saveGame(_this.state).then(function(){return _this.props.finishGamePost();}).catch(function(err){return console.log(err);});}};_this.handleFileUpload=function(e){var uploadData=new FormData();uploadData.append('gameImg',e.target.files[0]);_this.filesService.handleUpload(uploadData).then(function(response){console.log('subida de archivo finalizada',response.data.secure_url);_this.setState(_objectSpread(_objectSpread({},_this.state),{},{gameImg:response.data.secure_url}));}).catch(function(err){return console.log(err);});};_this.state={title:props.title||'',description:props.description||'',author:props.author||'',gameImg:props.gameImg||'',theme:props.theme||'',ageRange:props.ageRange||'',numOfPlayers:props.numOfPlayers||'',gameTime:props.gameTime||'',difficulty:props.difficulty||utils[0].label,price:props.price||'',language:props.language||'Espanol',owner:props.loggedInUser._id};_this.gameService=new GameService();_this.filesService=new FileService();return _this;}_createClass(GameForm,[{key:\"render\",value:function render(){var _this2=this;console.log(this.state);return/*#__PURE__*/React.createElement(Container,{className:\"game-form\"},this.state.title?/*#__PURE__*/React.createElement(\"h1\",null,\"Actualizar juego\"):/*#__PURE__*/React.createElement(\"h1\",null,\"Nuevo juego\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"title\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Nombre del juego\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"title\",type:\"text\",size:\"sm\",value:this.state.title,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"description\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Descripci\\xF3n\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"description\",type:\"text\",size:\"sm\",value:this.state.description,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"author\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Autor del juego\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"author\",type:\"text\",size:\"sm\",value:this.state.author,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"img\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Im\\xE1gen del juego\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"gameImg\",type:\"file\",size:\"sm\",onChange:this.handleFileUpload})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"theme\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Tem\\xE1tica del juego\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"theme\",type:\"text\",size:\"sm\",value:this.state.theme,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"ageRange\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Rango de edades\"),/*#__PURE__*/React.createElement(\"div\",{key:\"inline-radio\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+4\",inline:true,label:\"+4\",value:\"+4\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-1\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+6\",inline:true,label:\"+6\",value:\"+6\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-2\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+8\",inline:true,label:\"+8\",value:\"+8\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-3\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+10\",inline:true,label:\"+10\",value:\"+10\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-4\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+12\",inline:true,label:\"+12\",value:\"+12\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-5\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+14\",inline:true,label:\"+14\",value:\"+14\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-6\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+16\",inline:true,label:\"+16\",value:\"+16\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-7\"}),/*#__PURE__*/React.createElement(Form.Check,{name:\"ageRange\",key:\"+18\",inline:true,label:\"+18\",value:\"+18\",type:\"radio\",onChange:this.handleInputChange,id:\"inline-radio-8\"}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"numOfPlayers\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Numero de Jugadores\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"numOfPlayers\",type:\"text\",size:\"sm\",value:this.state.numOfPlayers,placeholder:\"2-4 jugadores\",onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"gameTime\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Duracion media de la partida\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"gameTime\",type:\"text\",size:\"sm\",value:this.state.gameTime,placeholder:\"20 minutos\",onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"difficulty\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Dificultad del juego\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",name:\"difficulty\",size:\"sm\",value:this.state.difficulty,custom:true,onChange:this.handleInputChange},utils.map(function(elm,idx){return/*#__PURE__*/React.createElement(\"option\",{defaultValue:_this2.props.title?_this2.props.difficulty===elm.label:idx===0,key:idx},elm.label);}))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"price\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Precio\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"price\",type:\"text\",size:\"sm\",value:this.state.price,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"language\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Idioma\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"language\",type:\"text\",size:\"sm\",value:this.state.language,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.props.closeModal();},style:{marginRight:'10px'},className:\"btn-one\"},\"Cerrar\"),/*#__PURE__*/React.createElement(Button,{className:\"btn-one\",type:\"submit\"},this.state.title?'Actualizar juego':'Crear juego')));}}]);return GameForm;}(Component);export default GameForm;","map":{"version":3,"sources":["/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/src/components/pages/game-form/GameForm.js"],"names":["React","Component","GameService","FileService","Container","Form","Button","utils","require","GameForm","props","handleInputChange","e","target","name","value","setState","handleSubmit","preventDefault","title","gameService","editGame","state","_id","then","finishGamePost","catch","err","console","log","saveGame","handleFileUpload","uploadData","FormData","append","files","filesService","handleUpload","response","data","secure_url","gameImg","description","author","theme","ageRange","numOfPlayers","gameTime","difficulty","label","price","language","owner","loggedInUser","map","elm","idx","closeModal","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport './GameForm.css'\n\nimport GameService from '../../../service/game.service'\nimport FileService from '../../../service/file.service'\n\nimport Container from 'react-bootstrap/Container'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nconst utils = require('../../../utils/gameDificultyOptions')\n\nclass GameForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\ttitle: props.title || '',\n\t\t\tdescription: props.description || '',\n\t\t\tauthor: props.author || '',\n\t\t\tgameImg: props.gameImg || '',\n\t\t\ttheme: props.theme || '',\n\t\t\tageRange: props.ageRange || '',\n\t\t\tnumOfPlayers: props.numOfPlayers || '',\n\t\t\tgameTime: props.gameTime || '',\n\t\t\tdifficulty: props.difficulty || utils[0].label,\n\t\t\tprice: props.price || '',\n\t\t\tlanguage: props.language || 'Espanol',\n\t\t\towner: props.loggedInUser._id\n\t\t}\n\t\tthis.gameService = new GameService()\n\t\tthis.filesService = new FileService()\n\t}\n\n\thandleInputChange = e => {\n\t\tconst { name, value } = e.target\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault()\n\t\tif (this.props.title) {\n\t\t\tthis.gameService\n\t\t\t\t.editGame({ ...this.state, _id: this.props._id })\n\t\t\t\t.then(() => this.props.finishGamePost())\n\t\t\t\t.catch(err => console.log(err))\n\t\t} else {\n\t\t\tthis.gameService.saveGame(this.state).then(() => this.props.finishGamePost()).catch(err => console.log(err))\n\t\t}\n\t}\n\n\thandleFileUpload = e => {\n\t\tconst uploadData = new FormData()\n\t\tuploadData.append('gameImg', e.target.files[0])\n\t\tthis.filesService\n\t\t\t.handleUpload(uploadData)\n\t\t\t.then(response => {\n\t\t\t\tconsole.log('subida de archivo finalizada', response.data.secure_url)\n\t\t\t\tthis.setState({\n\t\t\t\t\t...this.state,\n\t\t\t\t\tgameImg: response.data.secure_url\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\trender() {\n\t\tconsole.log(this.state)\n\t\t\treturn (\n\t\t\t<Container className='game-form'>\n\t\t\t\t{this.state.title ? <h1>Actualizar juego</h1> : <h1>Nuevo juego</h1>}\n\t\t\t\t<hr />\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<Form.Group controlId='title'>\n\t\t\t\t\t\t<Form.Label>Nombre del juego</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='description'>\n\t\t\t\t\t\t<Form.Label>Descripci&#243;n</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='author'>\n\t\t\t\t\t\t<Form.Label>Autor del juego</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='author'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.author}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='img'>\n\t\t\t\t\t\t<Form.Label>Im&#225;gen del juego</Form.Label>\n\t\t\t\t\t\t<Form.Control name='gameImg' type='file' size='sm' onChange={this.handleFileUpload} />\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='theme'>\n\t\t\t\t\t\t<Form.Label>Tem&#225;tica del juego</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='theme'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.theme}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='ageRange'>\n\t\t\t\t\t\t<Form.Label>Rango de edades</Form.Label>\n\t\t\t\t\t\t<div key={`inline-radio`} className='mb-3'>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tname='ageRange'\n\t\t\t\t\t\t\t\tkey='+4'\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\tlabel='+4'\n\t\t\t\t\t\t\t\tvalue='+4'\n\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tid={`inline-radio-1`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tname='ageRange'\n\t\t\t\t\t\t\t\tkey='+6'\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\tlabel='+6'\n\t\t\t\t\t\t\t\tvalue='+6'\n\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tid={`inline-radio-2`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tname='ageRange'\n\t\t\t\t\t\t\t\tkey='+8'\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\tlabel='+8'\n\t\t\t\t\t\t\t\tvalue='+8'\n\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tid={`inline-radio-3`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tname='ageRange'\n\t\t\t\t\t\t\t\tkey='+10'\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\tlabel='+10'\n\t\t\t\t\t\t\t\tvalue='+10'\n\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tid={`inline-radio-4`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tname='ageRange'\n\t\t\t\t\t\t\t\tkey='+12'\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\tlabel='+12'\n\t\t\t\t\t\t\t\tvalue='+12'\n\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tid={`inline-radio-5`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tname='ageRange'\n\t\t\t\t\t\t\t\tkey='+14'\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\tlabel='+14'\n\t\t\t\t\t\t\t\tvalue='+14'\n\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tid={`inline-radio-6`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tname='ageRange'\n\t\t\t\t\t\t\t\tkey='+16'\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\tlabel='+16'\n\t\t\t\t\t\t\t\tvalue='+16'\n\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tid={`inline-radio-7`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\tname='ageRange'\n\t\t\t\t\t\t\t\tkey='+18'\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\tlabel='+18'\n\t\t\t\t\t\t\t\tvalue='+18'\n\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tid={`inline-radio-8`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='numOfPlayers'>\n\t\t\t\t\t\t<Form.Label>Numero de Jugadores</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='numOfPlayers'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.numOfPlayers}\n\t\t\t\t\t\t\tplaceholder='2-4 jugadores'\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='gameTime'>\n\t\t\t\t\t\t<Form.Label>Duracion media de la partida</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='gameTime'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.gameTime}\n\t\t\t\t\t\t\tplaceholder='20 minutos'\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group controlId='difficulty'>\n\t\t\t\t\t\t<Form.Label>Dificultad del juego</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas='select'\n\t\t\t\t\t\t\tname='difficulty'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.difficulty}\n\t\t\t\t\t\t\tcustom\n\t\t\t\t\t\t\tonChange={this.handleInputChange}>\n\t\t\t\t\t\t\t{utils.map((elm, idx) => (\n\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.title ? this.props.difficulty === elm.label : idx === 0}\n\t\t\t\t\t\t\t\t\tkey={idx}>\n\t\t\t\t\t\t\t\t\t{elm.label}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group controlId='price'>\n\t\t\t\t\t\t<Form.Label>Precio</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='price'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.price}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group controlId='language'>\n\t\t\t\t\t\t<Form.Label>Idioma</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='language'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.language}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => this.props.closeModal()}\n\t\t\t\t\t\tstyle={{ marginRight: '10px' }}\n\t\t\t\t\t\tclassName='btn-one'>\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button className='btn-one' type='submit'>\n\t\t\t\t\t\t{this.state.title ? 'Actualizar juego' : 'Crear juego'}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default GameForm\n"]},"metadata":{},"sourceType":"module"}