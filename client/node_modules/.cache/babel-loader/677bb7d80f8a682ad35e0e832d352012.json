{"ast":null,"code":"import _objectSpread from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import GameService from'./../../../service/game.service';import'./GameList.css';import GameCard from'../gameCard/GameCard';import GameForm from'../game-form/GameForm';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Button from'react-bootstrap/Button';import Toast from'react-bootstrap/Toast';import Modal from'react-bootstrap/Modal';import Col from'react-bootstrap/Col';var GameList=/*#__PURE__*/function(_Component){_inherits(GameList,_Component);var _super=_createSuper(GameList);function GameList(){var _this;_classCallCheck(this,GameList);_this=_super.call(this);_this.handleModal=function(visible){return _this.setState({modalShow:visible});};_this.handletoast=function(visible){var text=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var toastCopy=_objectSpread({},_this.state.toast);toastCopy.show=visible;toastCopy.text=text;_this.setState({toast:toastCopy});};_this.getAllGames=function(){_this.gameService.getGames().then(function(response){return _this.setState({games:response.data});}).catch(function(err){return console.log(err);});};_this.componentDidMount=function(){_this.getAllGames();};_this.finishGamePost=function(){_this.getAllGames();_this.handleModal(false);_this.handletoast(true,'Registro creado en BBDD');};_this.state={modalShow:false,toast:{show:false,text:''},games:[]};_this.gameService=new GameService();return _this;}_createClass(GameList,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Container,{as:\"section\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Listado de juegos\"),/*#__PURE__*/React.createElement(Col,{md:{span:4,offset:4}},this.props.loggedInUser&&/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.handleModal(true);},variant:\"success\",block:true,style:{marginBottom:'20px'}},\"Crear nuevo juego\")),/*#__PURE__*/React.createElement(Row,{className:\"games-list\"},this.state.games.map(function(elm){return/*#__PURE__*/React.createElement(GameCard,Object.assign({key:elm._id},elm));})),/*#__PURE__*/React.createElement(Modal,{show:this.state.modalShow,onHide:function onHide(){return _this2.handleModal(false);}},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(GameForm,{loggedInUser:this.props.loggedInUser,finishGamePost:this.finishGamePost,closeModal:function closeModal(){return _this2.handleModal(false);}}))),/*#__PURE__*/React.createElement(Toast,{onClose:function onClose(){return _this2.handletoast(false);},show:this.state.toast.show,delay:3000,autohide:true},/*#__PURE__*/React.createElement(Toast.Header,null,/*#__PURE__*/React.createElement(\"img\",{src:\"holder.js/20x20?text=%20\",className:\"rounded mr-2\",alt:\"\"}),/*#__PURE__*/React.createElement(\"strong\",{className:\"mr-auto\"},\"Mensaje\")),/*#__PURE__*/React.createElement(Toast.Body,null,this.state.toast.text)));}}]);return GameList;}(Component);export default GameList;","map":{"version":3,"sources":["/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/src/components/pages/gameList/GameList.js"],"names":["React","Component","GameService","GameCard","GameForm","Container","Row","Button","Toast","Modal","Col","GameList","handleModal","visible","setState","modalShow","handletoast","text","toastCopy","state","toast","show","getAllGames","gameService","getGames","then","response","games","data","catch","err","console","log","componentDidMount","finishGamePost","span","offset","props","loggedInUser","marginBottom","map","elm","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport GameService from './../../../service/game.service'\n\nimport './GameList.css'\n\nimport GameCard from '../gameCard/GameCard'\nimport GameForm from '../game-form/GameForm'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Button from 'react-bootstrap/Button'\nimport Toast from 'react-bootstrap/Toast'\nimport Modal from 'react-bootstrap/Modal'\nimport Col from 'react-bootstrap/Col'\n\n\nclass GameList extends Component {\n\n    constructor() {\n        super()\n        this.state = {\n            modalShow: false,\n            toast: {\n                show: false,\n                text: ''\n            },\n            games: []\n        }\n        this.gameService = new GameService()\n    }\n\n\n    handleModal = visible => this.setState({ modalShow: visible })\n    handletoast = (visible, text = '') => {\n        const toastCopy = { ...this.state.toast }\n        toastCopy.show = visible\n        toastCopy.text = text\n        this.setState({ toast: toastCopy })\n    }\n\n    getAllGames = () => {\n        this.gameService.getGames()\n            .then(response => this.setState({ games: response.data }))\n            .catch(err => console.log(err))\n    }\n\n\n    componentDidMount = () => {\n        this.getAllGames()\n    }\n\n\n    finishGamePost = () => {\n        this.getAllGames()\n        this.handleModal(false)\n        this.handletoast(true, 'Registro creado en BBDD')\n    }\n\n    render() {\n        return (\n            <Container as=\"section\">\n            \n                <h1>Listado de juegos</h1>\n                <Col md={{ span: 4, offset: 4 }}>\n                    {this.props.loggedInUser && <Button onClick={() => this.handleModal(true)} variant=\"success\" block style={{ marginBottom: '20px' }}>Crear nuevo juego</Button>}\n\n                </Col>\n\n\n                <Row className=\"games-list\">\n                    {this.state.games.map(elm => <GameCard key={elm._id} {...elm} />)}\n                </Row>\n\n\n                <Modal show={this.state.modalShow} onHide={() => this.handleModal(false)}>\n                    <Modal.Body>\n                        <GameForm loggedInUser={this.props.loggedInUser} finishGamePost={this.finishGamePost} closeModal={() => this.handleModal(false)} />\n                    </Modal.Body>\n                </Modal>\n\n\n                <Toast onClose={() => this.handletoast(false)} show={this.state.toast.show} delay={3000} autohide>\n                    <Toast.Header>\n                        <img src=\"holder.js/20x20?text=%20\" className=\"rounded mr-2\" alt=\"\" />\n                        <strong className=\"mr-auto\">Mensaje</strong>\n                    </Toast.Header>\n                    <Toast.Body>{this.state.toast.text}</Toast.Body>\n                </Toast>\n\n\n            </Container>\n        )\n    }\n}\n\nexport default GameList"]},"metadata":{},"sourceType":"module"}