{"ast":null,"code":"import _defineProperty from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AuthService from'./../../../service/auth.service';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{Link}from'react-router-dom';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.handleInputChange=function(e){var loginInfoCopy=_objectSpread({},_this.state.loginInfo);var _e$target=e.target,name=_e$target.name,value=_e$target.value;loginInfoCopy=_objectSpread(_objectSpread({},loginInfoCopy),{},_defineProperty({},name,value));_this.setState({loginInfo:loginInfoCopy});};_this.handleSubmit=function(e){e.preventDefault();_this.authService.signup(_this.state.loginInfo).then(function(response){_this.props.setTheUser(response.data);_this.props.history.push('/');}).catch(function(err){err.response.status===400&&_this.setState({errorMessage:err.response.data.message});});};_this.state={loginInfo:{username:'',password:''},errorMessage:''};_this.authService=new AuthService();return _this;}_createClass(Signup,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:{span:4,offset:4}},/*#__PURE__*/React.createElement(\"h3\",null,\"Registro de usuario\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"name\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Usuario\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"username\",type:\"text\",value:this.state.username,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"pwd\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Contrase\\xF1a\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"password\",type:\"password\",value:this.state.password,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(\"p\",{className:\"error-message\",style:{display:this.state.errorMessage?'block':'none'}},this.state.errorMessage),/*#__PURE__*/React.createElement(Button,{variant:\"success\",type:\"submit\"},\"Registrarme\")),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"small\",null,\"\\xBFYa tienes cuenta? \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Inicia sesi\\xF3n\"))))));}}]);return Signup;}(Component);export default Signup;","map":{"version":3,"sources":["/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/src/components/pages/signup/Signup.js"],"names":["React","Component","AuthService","Container","Row","Col","Form","Button","Link","Signup","props","handleInputChange","e","loginInfoCopy","state","loginInfo","target","name","value","setState","handleSubmit","preventDefault","authService","signup","then","response","setTheUser","data","history","push","catch","err","status","errorMessage","message","username","password","span","offset","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport AuthService from './../../../service/auth.service'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nimport { Link } from 'react-router-dom'\n\n\nclass Signup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            loginInfo: {\n                username: '',\n                password: ''\n            },\n            errorMessage: ''\n        }\n        this.authService = new AuthService()\n    }\n\n\n    handleInputChange = e => {\n\n        let loginInfoCopy = { ...this.state.loginInfo }\n        const { name, value } = e.target\n        loginInfoCopy = { ...loginInfoCopy, [name]: value }\n\n        this.setState({ loginInfo: loginInfoCopy })\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n        this.authService.signup(this.state.loginInfo)\n            .then(response => {\n                this.props.setTheUser(response.data)\n                this.props.history.push('/')\n            })\n            .catch(err => {\n                err.response.status === 400 && this.setState({ errorMessage: err.response.data.message })\n            })\n    }\n\n\n\n    render() {\n\n        return (\n            <Container>\n\n                <Row>\n                    <Col md={{ span: 4, offset: 4 }}>\n\n                        <h3>Registro de usuario</h3>\n                        <hr></hr>\n                        <Form onSubmit={this.handleSubmit}>\n\n                            <Form.Group controlId=\"name\">\n                                <Form.Label>Usuario</Form.Label>\n                                <Form.Control name=\"username\" type=\"text\" value={this.state.username} onChange={this.handleInputChange} />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"pwd\">\n                                <Form.Label>Contraseña</Form.Label>\n                                <Form.Control name=\"password\" type=\"password\" value={this.state.password} onChange={this.handleInputChange} />\n                            </Form.Group>\n\n                            <p\n                                className='error-message'\n                                style={{ display: this.state.errorMessage ? 'block' : 'none' }}\n                            >{this.state.errorMessage}</p>\n\n                            <Button variant=\"success\" type=\"submit\">Registrarme</Button>\n                        </Form>\n\n                        <p><small>¿Ya tienes cuenta? <Link to=\"/login\">Inicia sesión</Link></small></p>\n\n                    </Col>\n                </Row>\n\n            </Container>\n        )\n    }\n}\n\n\nexport default Signup"]},"metadata":{},"sourceType":"module"}