{"ast":null,"code":"import _objectSpread from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import EventService from'../../../service/events.service';import moment from'moment';import Container from'react-bootstrap/Container';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';var EventForm=/*#__PURE__*/function(_Component){_inherits(EventForm,_Component);var _super=_createSuper(EventForm);function EventForm(props){var _this;_classCallCheck(this,EventForm);_this=_super.call(this,props);_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value,valueAsDate=_e$target.valueAsDate;if(name==='gameTime'||name==='gameHour'){_this.setState(_defineProperty({},\"\".concat(name,\"AsDate\"),valueAsDate.toUTCString()));}_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,gameTimeAsDate=_this$state.gameTimeAsDate,gameHourAsDate=_this$state.gameHourAsDate;var gameHourMoment=moment(gameHourAsDate).parseZone();var gameDate=moment(gameTimeAsDate).parseZone().hour(gameHourMoment.hour()).minute(gameHourMoment.minute());console.log(gameDate,gameHourMoment,gameHourAsDate);_this.eventService.saveEvent(_objectSpread(_objectSpread({},_this.state),{},{gameDate:gameDate,_id:_this.props._id})).then(function(){return _this.props.finishEventPost();}).catch(function(err){return console.log(err);});};_this.state={title:props.title||'',description:props.description||'',author:props.loggedInUser._id,location:props.location||'',attendance:props.attendance||0,gameTime:props.gameTime||'',gameHour:props.gameHour||''};_this.eventService=new EventService();return _this;}_createClass(EventForm,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Container,null,!this.props.title?/*#__PURE__*/React.createElement(\"h1\",null,\"Nuevo Evento\"):/*#__PURE__*/React.createElement(\"h1\",null,\"Actualizar Evento\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"title\"},/*#__PURE__*/React.createElement(Form.Label,null,\"T\\xEDtulo\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"title\",type:\"text\",size:\"sm\",value:this.state.title,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"description\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Descripci\\xF3n\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"description\",type:\"text\",size:\"sm\",value:this.state.description,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"location\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Direcci\\xF3n:\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"location\",type:\"text\",size:\"sm\",value:this.state.location,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"attendance\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Capacidad m\\xE1xima de asistentes\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"attendance\",type:\"number\",size:\"sm\",value:this.state.attendance,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"gameTime\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Fecha\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"gameTime\",type:\"date\",size:\"sm\",value:this.state.gameTime,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"gameHour\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Hora\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"gameHour\",type:\"time\",size:\"sm\",value:this.state.gameHour,onChange:this.handleInputChange})),/*#__PURE__*/React.createElement(Button,{variant:\"success\",className:\"btn-one\",onClick:function onClick(){return _this2.props.closeModal();},style:{marginRight:'10px'}},\"Cerrar\"),/*#__PURE__*/React.createElement(Button,{variant:\"success\",className:\"btn-one\",type:\"submit\"},this.props.title?'Actualizar evento':'Crear Evento')));}}]);return EventForm;}(Component);export default EventForm;","map":{"version":3,"sources":["/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/src/components/pages/eventForm/EventForm.js"],"names":["React","Component","EventService","moment","Container","Form","Button","EventForm","props","handleInputChange","e","target","name","value","valueAsDate","setState","toUTCString","handleSubmit","preventDefault","state","gameTimeAsDate","gameHourAsDate","gameHourMoment","parseZone","gameDate","hour","minute","console","log","eventService","saveEvent","_id","then","finishEventPost","catch","err","title","description","author","loggedInUser","location","attendance","gameTime","gameHour","closeModal","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport EventService from '../../../service/events.service'\n\nimport moment from 'moment'\n\nimport Container from 'react-bootstrap/Container'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nclass EventForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\ttitle: props.title || '',\n\t\t\tdescription: props.description || '',\n\t\t\tauthor: props.loggedInUser._id,\n\t\t\tlocation: props.location || '',\n\t\t\tattendance: props.attendance || 0,\n\t\t\tgameTime: props.gameTime || '',\n\t\t\tgameHour: props.gameHour || ''\n\t\t}\n\t\tthis.eventService = new EventService()\n\t}\n\n\thandleInputChange = e => {\n\t\tconst { name, value, valueAsDate } = e.target\n\t\tif (name === 'gameTime' || name === 'gameHour') {\n\t\t\tthis.setState({ [`${name}AsDate`]: valueAsDate.toUTCString() })\n\t\t}\n\t\tthis.setState({ [name]: value })\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault()\n\t\tconst { gameTimeAsDate, gameHourAsDate } = this.state\n\t\tconst gameHourMoment = moment(gameHourAsDate).parseZone()\n\t\tconst gameDate = moment(gameTimeAsDate).parseZone().hour(gameHourMoment.hour()).minute(gameHourMoment.minute())\n\t\tconsole.log(gameDate, gameHourMoment, gameHourAsDate)\n\t\tthis.eventService\n\t\t\t.saveEvent({ ...this.state, gameDate, _id: this.props._id })\n\t\t\t.then(() => this.props.finishEventPost())\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t{!this.props.title ? <h1>Nuevo Evento</h1> : <h1>Actualizar Evento</h1>}\n\t\t\t\t<hr />\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<Form.Group controlId='title'>\n\t\t\t\t\t\t<Form.Label>T&#237;tulo</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='description'>\n\t\t\t\t\t\t<Form.Label>Descripci&#243;n</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='location'>\n\t\t\t\t\t\t<Form.Label>Direcci&#243;n:</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='location'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.location}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='attendance'>\n\t\t\t\t\t\t<Form.Label>Capacidad m&#225;xima de asistentes</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='attendance'\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.attendance}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='gameTime'>\n\t\t\t\t\t\t<Form.Label>Fecha</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='gameTime'\n\t\t\t\t\t\t\ttype='date'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.gameTime}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId='gameHour'>\n\t\t\t\t\t\t<Form.Label>Hora</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tname='gameHour'\n\t\t\t\t\t\t\ttype='time'\n\t\t\t\t\t\t\tsize='sm'\n\t\t\t\t\t\t\tvalue={this.state.gameHour}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='success'\n\t\t\t\t\t\tclassName='btn-one'\n\t\t\t\t\t\tonClick={() => this.props.closeModal()}\n\t\t\t\t\t\tstyle={{ marginRight: '10px' }}>\n\t\t\t\t\t\tCerrar\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant='success' className='btn-one' type='submit'>\n\t\t\t\t\t\t{this.props.title ? 'Actualizar evento' : 'Crear Evento'}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default EventForm\n"]},"metadata":{},"sourceType":"module"}