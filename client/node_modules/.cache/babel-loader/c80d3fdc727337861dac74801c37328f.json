{"ast":null,"code":"import _toConsumableArray from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import EventService from'../../../service/events.service';import moment from'moment';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';import Spinner from'react-bootstrap/Spinner';import GoogleMapReact from'google-map-react';import axios from'axios';import'./EventDetails.css';import{Link}from'react-router-dom';var EventDetails=/*#__PURE__*/function(_Component){_inherits(EventDetails,_Component);var _super=_createSuper(EventDetails);function EventDetails(props){var _this;_classCallCheck(this,EventDetails);_this=_super.call(this,props);_this.handleEventSign=function(e){_this.state.event.assistance.push(_this.props.loggedInUser.username);_this.setState({assitance:_toConsumableArray(_this.state.event.assistance)});console.log(_this.props.loggedInUser.username);console.log(_this.state.event.assistance);};_this.componentDidMount=function(){_this.getEventInfo();};_this.state={event:null,assistance:[],// center: {\n//     lat: props.lat,\n//     lng: props.lng\n// },\nloggedInUser:_this.props.loggedInUser};_this.eventService=new EventService();return _this;}// static defaultProps = {\n//     center: {\n//         lat: 40.420524,\n//         lng: -3.705128\n//     },\n//     zoom: 16,\n// }\n_createClass(EventDetails,[{key:\"getEventInfo\",value:function getEventInfo(){var _this2=this;var id=this.props.match.params.eventId;console.log(this.props);this.eventService.getEvent(id).then(function(response){return _this2.setState({event:response.data});}).catch(function(err){return console.log(err);});}// , () => this.getGoogleMap()\n// getGoogleMap() {\n//     let location = this.state.event.location\n//     let key = \"AIzaSyA5zll-K3WnkRdKTRaRgbyeC_JkL76ygyM\"\n//     axios.get(\n//         `https://maps.googleapis.com/maps/api/geocode/json?address=${location}&key=${key}`)\n//         .then((geores) => {\n//             let latitude = geores.data.results[0].geometry.location.lat\n//             let longitude = geores.data.results[0].geometry.location.lng\n//             this.setState({\n//                 center: {\n//                     lat: latitude,\n//                     lng: longitude\n//                 }\n//             })\n//         })\n// }\n},{key:\"render\",value:function render(){if(this.state.event){var _this$state$event=this.state.event,author=_this$state$event.author,title=_this$state$event.title,description=_this$state$event.description,location=_this$state$event.location,attendance=_this$state$event.attendance,assistance=_this$state$event.assistance,gameDate=_this$state$event.gameDate,reviews=_this$state$event.reviews;return/*#__PURE__*/React.createElement(Container,{as:\"section\",className:\"event-details\"},/*#__PURE__*/React.createElement(\"h1\",null,title),/*#__PURE__*/React.createElement(Row,{as:\"article\"},/*#__PURE__*/React.createElement(Col,{md:{span:5,offset:1}},/*#__PURE__*/React.createElement(Link,{to:\"/events\",className:\"btn btn-success\"},\"Volver\"),this.state.loggedInUser&&/*#__PURE__*/React.createElement(Button,{onClick:this.handleEventSign,className:\"btn btn-success\"},\"Apuntarme\")),/*#__PURE__*/React.createElement(Col,{md:{span:5}},/*#__PURE__*/React.createElement(\"h4\",null,\"Detalles\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"strong\",null,\"Autor: \"),\" \",author.username,\" \"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"strong\",null,\"Descripcion: \"),\" \",description,\" \"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"strong\",null,\"Direccion: \"),\" \",location,\" \"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"strong\",null,\"Participantes:  \"),\" \",attendance,\" \"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"strong\",null,\"Asistentes: \"),\" \",assistance,\" \"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"strong\",null,\"Fecha: \"),\" \",moment(gameDate).format(\"DD/MM/YYYY h:mmA\"),\" \"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"strong\",null,\"Rese\\xF1as: \"),\" \",reviews,\" \"))));}else{return/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sr-only\"},\"Loading...\"));}}}]);return EventDetails;}(Component);export default EventDetails;","map":{"version":3,"sources":["/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/src/components/pages/eventDetails/EventDetails.js"],"names":["React","Component","EventService","moment","Container","Row","Col","Button","Spinner","GoogleMapReact","axios","Link","EventDetails","props","handleEventSign","e","state","event","assistance","push","loggedInUser","username","setState","assitance","console","log","componentDidMount","getEventInfo","eventService","id","match","params","eventId","getEvent","then","response","data","catch","err","author","title","description","location","attendance","gameDate","reviews","span","offset","format"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport EventService from '../../../service/events.service'\nimport moment from 'moment'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport Spinner from 'react-bootstrap/Spinner'\nimport GoogleMapReact from 'google-map-react'\nimport axios from 'axios'\n\nimport './EventDetails.css'\n\nimport { Link } from 'react-router-dom'\n\nclass EventDetails extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            event: null,\n            assistance: [],\n            // center: {\n            //     lat: props.lat,\n            //     lng: props.lng\n            // },\n            loggedInUser: this.props.loggedInUser\n        }\n        this.eventService = new EventService()\n    }\n\n    // static defaultProps = {\n    //     center: {\n    //         lat: 40.420524,\n    //         lng: -3.705128\n    //     },\n    //     zoom: 16,\n    // }\n\n    handleEventSign = e => {\n        this.state.event.assistance.push(this.props.loggedInUser.username)\n\n        this.setState({\n            assitance: [...this.state.event.assistance]\n        })\n        console.log(this.props.loggedInUser.username)\n\n        console.log(this.state.event.assistance)\n    }\n\n    getEventInfo() {\n        const id = this.props.match.params.eventId\n        console.log(this.props)\n        this.eventService.getEvent(id)\n            .then(response => this.setState({ event: response.data }))\n            .catch(err => console.log(err))\n    }\n\n\n    // , () => this.getGoogleMap()\n\n\n    // getGoogleMap() {\n    //     let location = this.state.event.location\n    //     let key = \"AIzaSyA5zll-K3WnkRdKTRaRgbyeC_JkL76ygyM\"\n    //     axios.get(\n    //         `https://maps.googleapis.com/maps/api/geocode/json?address=${location}&key=${key}`)\n    //         .then((geores) => {\n    //             let latitude = geores.data.results[0].geometry.location.lat\n    //             let longitude = geores.data.results[0].geometry.location.lng\n    //             this.setState({\n    //                 center: {\n    //                     lat: latitude,\n    //                     lng: longitude\n    //                 }\n    //             })\n    //         })\n    // }\n\n    componentDidMount = () => { \n        this.getEventInfo()\n    }\n\n    render() {\n        if (this.state.event) {\n            const {author, title, description, location, attendance, assistance, gameDate, reviews} = this.state.event\n            return (\n                <Container as=\"section\" className=\"event-details\">\n                    <h1>{title}</h1>\n    \n                    <Row as=\"article\">\n                        <Col md={{ span: 5, offset: 1 }}>\n                            {/* <div id=\"map\">\n                                <GoogleMapReact\n                                    bootstrapURLKeys={{ key: \"AIzaSyA5zll-K3WnkRdKTRaRgbyeC_JkL76ygyM\" }}\n                                    center={this.state.center}\n                                    defaultZoom={this.props.zoom}>\n                                    <div style={{ backgroundImage: \"url('../../../../img/marker.png')\", width: \"26px\", height: \"29px\" }}\n                                        lat={this.state.center.lat}\n                                        lng={this.state.center.lng}>\n                                    </div>\n                                </GoogleMapReact>\n                            </div> */}\n                            <Link to=\"/events\" className=\"btn btn-success\">Volver</Link>\n                            {\n                                this.state.loggedInUser &&\n                                <Button onClick={this.handleEventSign} className=\"btn btn-success\">Apuntarme</Button>   \n                            }\n                        </Col>\n                        <Col md={{ span: 5 }}>\n                            <h4>Detalles</h4>\n                            <hr />\n                            <p> <strong>Autor: </strong> {author.username} </p>\n                            <hr />\n                            <p> <strong>Descripcion: </strong> {description} </p>\n                            <hr />\n                            <p> <strong>Direccion: </strong> {location} </p>\n                            <hr />\n                            <p> <strong>Participantes:  </strong> {attendance} </p>\n                            <hr />\n                            <p> <strong>Asistentes: </strong> {assistance} </p>\n                            <hr/>\n                            <p> <strong>Fecha: </strong> {moment(gameDate).format(\"DD/MM/YYYY h:mmA\")} </p>\n                            <hr />\n                            <p> <strong>Rese√±as: </strong> {reviews} </p>\n                        </Col>\n                    </Row>\n                </Container>\n            )\n        } else {\n            return <Spinner animation=\"border\" role=\"status\">\n                     <span className=\"sr-only\">Loading...</span>\n                    </Spinner>\n        }\n    }\n}\nexport default EventDetails"]},"metadata":{},"sourceType":"module"}