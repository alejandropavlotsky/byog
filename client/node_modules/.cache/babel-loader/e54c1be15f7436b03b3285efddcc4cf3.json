{"ast":null,"code":"var _jsxFileName = \"/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/src/components/pages/gameList/GameList.js\";\nimport React, { Component } from 'react';\nimport GameService from './../../../service/game.service';\nimport './GameList.css';\nimport GameCard from '../gameCard/GameCard';\nimport GameForm from '../game-form/GameForm';\nimport SearchBar from './../searchBar/SearchBar';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Toast from 'react-bootstrap/Toast';\nimport Modal from 'react-bootstrap/Modal';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\n\nclass GameList extends Component {\n  constructor() {\n    super();\n\n    this.handleModal = visible => this.setState({\n      modalShow: visible\n    });\n\n    this.handletoast = (visible, text = '') => {\n      const toastCopy = { ...this.state.toast\n      };\n      toastCopy.show = visible;\n      toastCopy.text = text;\n      this.setState({\n        toast: toastCopy\n      });\n    };\n\n    this.filteredSearch = str => {\n      const {\n        gamesCopy\n      } = this.state;\n      const filteredresults = gamesCopy.filter(game => game.title.toLowerCase().includes(str.toLowerCase()));\n      this.setState({\n        games: filteredresults\n      });\n    };\n\n    this.getAllGames = () => {\n      this.gameService.getGames().then(response => this.setState({\n        games: response.data,\n        gamesCopy: response.data\n      })).catch(err => console.log(err));\n    };\n\n    this.componentDidMount = () => {\n      this.getAllGames();\n    };\n\n    this.finishGamePost = () => {\n      this.getAllGames();\n      this.handleModal(false);\n      this.handletoast(true, 'El juego se ha creado con Ã©xito!');\n    };\n\n    this.state = {\n      modalShow: false,\n      toast: {\n        show: false,\n        text: ''\n      },\n      games: []\n    };\n    this.gameService = new GameService();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      as: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"Listado de juegos\"), /*#__PURE__*/React.createElement(Col, {\n      md: {\n        span: 4,\n        offset: 4\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, this.props.loggedInUser && /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleModal(true),\n      variant: \"success\",\n      block: true,\n      style: {\n        marginBottom: '20px'\n      },\n      className: \"btn-one\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 49\n      }\n    }, \"Crear nuevo juego\")), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      filteredSearch: this.filteredSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }), !this.state.games), /*#__PURE__*/React.createElement(Row, {\n      className: \"games-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, this.state.games.map(elm => /*#__PURE__*/React.createElement(GameCard, Object.assign({\n      key: elm._id\n    }, elm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 50\n      }\n    })))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.modalShow,\n      onHide: () => this.handleModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(GameForm, {\n      loggedInUser: this.props.loggedInUser,\n      finishGamePost: this.finishGamePost,\n      closeModal: () => this.handleModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Toast, {\n      variant: \"success\",\n      onClose: () => this.handletoast(false),\n      show: this.state.toast.show,\n      delay: 4000,\n      autohide: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Toast.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 35\n      }\n    }, \"Mensaje\")), /*#__PURE__*/React.createElement(Toast.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, this.state.toast.text)));\n  }\n\n}\n\nexport default GameList;","map":{"version":3,"sources":["/Users/alejandromurawczik/Movies/Programacion/ IronHack/Ironhack/week7/day5/BYOG/client/src/components/pages/gameList/GameList.js"],"names":["React","Component","GameService","GameCard","GameForm","SearchBar","Container","Row","Button","Toast","Modal","Col","Form","GameList","constructor","handleModal","visible","setState","modalShow","handletoast","text","toastCopy","state","toast","show","filteredSearch","str","gamesCopy","filteredresults","filter","game","title","toLowerCase","includes","games","getAllGames","gameService","getGames","then","response","data","catch","err","console","log","componentDidMount","finishGamePost","render","span","offset","props","loggedInUser","marginBottom","map","elm","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport GameService from './../../../service/game.service'\n\nimport './GameList.css'\n\nimport GameCard from '../gameCard/GameCard'\nimport GameForm from '../game-form/GameForm'\nimport SearchBar from './../searchBar/SearchBar'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Button from 'react-bootstrap/Button'\nimport Toast from 'react-bootstrap/Toast'\nimport Modal from 'react-bootstrap/Modal'\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\n\n\nclass GameList extends Component {\n\n    constructor() {\n        super()\n        this.state = {\n            modalShow: false,\n            toast: {\n                show: false,\n                text: ''\n            },\n            games: [],\n        }\n        this.gameService = new GameService()\n    }\n\n\n    handleModal = visible => this.setState({ modalShow: visible })\n    handletoast = (visible, text = '') => {\n        const toastCopy = { ...this.state.toast }\n        toastCopy.show = visible\n        toastCopy.text = text\n        this.setState({ toast: toastCopy })\n    }\n\n    filteredSearch = (str) => {\n        const { gamesCopy } = this.state\n        const filteredresults = gamesCopy.filter((game) => game.title.toLowerCase().includes(str.toLowerCase()))\n        this.setState({games: filteredresults})\n    }\n\n    getAllGames = () => {\n        this.gameService.getGames()\n            .then(response => this.setState({ games: response.data, gamesCopy: response.data }))\n            .catch(err => console.log(err))\n    }\n\n\n    componentDidMount = () => {\n        this.getAllGames()\n    }\n\n\n    finishGamePost = () => {\n        this.getAllGames()\n        this.handleModal(false)\n        this.handletoast(true, 'El juego se ha creado con Ã©xito!')\n    }\n\n    render() {\n        return (\n            <Container as=\"section\">\n            \n                <h1>Listado de juegos</h1>\n                <Col md={{ span: 4, offset: 4 }}>\n                    {this.props.loggedInUser && <Button onClick={() => this.handleModal(true)} variant=\"success\" block style={{ marginBottom: '20px' }} className=\"btn-one\">Crear nuevo juego</Button>}\n\n                </Col>\n                <Col>\n                <SearchBar filteredSearch={this.filteredSearch}></SearchBar>\n                    {\n                        (!this.state.games) \n                    }\n                </Col>\n\n                <Row className=\"games-list\">\n                    {this.state.games.map(elm => <GameCard key={elm._id} {...elm} />)}\n                </Row>\n\n\n                <Modal show={this.state.modalShow} onHide={() => this.handleModal(false)}>\n                    <Modal.Body>\n                        <GameForm loggedInUser={this.props.loggedInUser} finishGamePost={this.finishGamePost} closeModal={() => this.handleModal(false)} />\n                    </Modal.Body>\n                </Modal>\n\n\n                <Toast variant=\"success\" onClose={() => this.handletoast(false)} show={this.state.toast.show} delay={4000} autohide>\n                    <Toast.Header><strong className=\"mr-auto\">Mensaje</strong></Toast.Header>\n                    <Toast.Body>{this.state.toast.text}</Toast.Body>\n                </Toast>\n\n\n            </Container>\n        )\n    }\n}\n\nexport default GameList"]},"metadata":{},"sourceType":"module"}